{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":44},"end":{"line":4,"column":31,"index":75}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/query-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":76},"end":{"line":5,"column":47,"index":123}}],"key":"GAsr4MDTe9ve1mRxgvML4iY2BZg=","exportNames":["*"],"imports":1}},{"name":"./QueryClientProvider.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":124},"end":{"line":6,"column":58,"index":182}}],"key":"R2Cn87b3k6V9pZdY+hWd8Ft8C58=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use client\";\n\n  // src/HydrationBoundary.tsx\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"HydrationBoundary\", {\n    enumerable: true,\n    get: function () {\n      return HydrationBoundary;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _tanstackQueryCore = require(_dependencyMap[1], \"@tanstack/query-core\");\n  var _QueryClientProviderJs = require(_dependencyMap[2], \"./QueryClientProvider.js\");\n  var HydrationBoundary = ({\n    children,\n    options = {},\n    state,\n    queryClient\n  }) => {\n    const client = (0, _QueryClientProviderJs.useQueryClient)(queryClient);\n    const optionsRef = React.useRef(options);\n    React.useEffect(() => {\n      optionsRef.current = options;\n    });\n    const hydrationQueue = React.useMemo(() => {\n      if (state) {\n        if (typeof state !== \"object\") {\n          return;\n        }\n        const queryCache = client.getQueryCache();\n        const queries = state.queries || [];\n        const newQueries = [];\n        const existingQueries = [];\n        for (const dehydratedQuery of queries) {\n          const existingQuery = queryCache.get(dehydratedQuery.queryHash);\n          if (!existingQuery) {\n            newQueries.push(dehydratedQuery);\n          } else {\n            const hydrationIsNewer = dehydratedQuery.state.dataUpdatedAt > existingQuery.state.dataUpdatedAt || dehydratedQuery.promise && existingQuery.state.status !== \"pending\" && existingQuery.state.fetchStatus !== \"fetching\" && dehydratedQuery.dehydratedAt !== void 0 && dehydratedQuery.dehydratedAt > existingQuery.state.dataUpdatedAt;\n            if (hydrationIsNewer) {\n              existingQueries.push(dehydratedQuery);\n            }\n          }\n        }\n        if (newQueries.length > 0) {\n          (0, _tanstackQueryCore.hydrate)(client, {\n            queries: newQueries\n          }, optionsRef.current);\n        }\n        if (existingQueries.length > 0) {\n          return existingQueries;\n        }\n      }\n      return void 0;\n    }, [client, state]);\n    React.useEffect(() => {\n      if (hydrationQueue) {\n        (0, _tanstackQueryCore.hydrate)(client, {\n          queries: hydrationQueue\n        }, optionsRef.current);\n      }\n    }, [client, hydrationQueue]);\n    return children;\n  };\n});","lineCount":86,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[5,2,3,0],[7,2,3,0,"Object"],[7,8,3,0],[7,9,3,0,"defineProperty"],[7,23,3,0],[7,24,3,0,"exports"],[7,31,3,0],[8,4,3,0,"value"],[8,9,3,0],[9,2,3,0],[10,2,3,0],[10,11,3,0,"_interopNamespace"],[10,29,3,0,"e"],[10,30,3,0],[11,4,3,0],[11,8,3,0,"e"],[11,9,3,0],[11,13,3,0,"e"],[11,14,3,0],[11,15,3,0,"__esModule"],[11,25,3,0],[11,34,3,0,"e"],[11,35,3,0],[12,4,3,0],[12,8,3,0,"n"],[12,9,3,0],[13,4,3,0],[13,8,3,0,"e"],[13,9,3,0],[13,11,3,0,"Object"],[13,17,3,0],[13,18,3,0,"keys"],[13,22,3,0],[13,23,3,0,"e"],[13,24,3,0],[13,26,3,0,"forEach"],[13,33,3,0],[13,44,3,0,"k"],[13,45,3,0],[14,6,3,0],[14,10,3,0,"d"],[14,11,3,0],[14,14,3,0,"Object"],[14,20,3,0],[14,21,3,0,"getOwnPropertyDescriptor"],[14,45,3,0],[14,46,3,0,"e"],[14,47,3,0],[14,49,3,0,"k"],[14,50,3,0],[15,6,3,0,"Object"],[15,12,3,0],[15,13,3,0,"defineProperty"],[15,27,3,0],[15,28,3,0,"n"],[15,29,3,0],[15,31,3,0,"k"],[15,32,3,0],[15,34,3,0,"d"],[15,35,3,0],[15,36,3,0,"get"],[15,39,3,0],[15,42,3,0,"d"],[15,43,3,0],[16,8,3,0,"enumerable"],[16,18,3,0],[17,8,3,0,"get"],[17,11,3,0],[17,22,3,0,"get"],[17,23,3,0],[18,10,3,0],[18,17,3,0,"e"],[18,18,3,0],[18,19,3,0,"k"],[18,20,3,0],[19,8,3,0],[20,6,3,0],[21,4,3,0],[22,4,3,0,"n"],[22,5,3,0],[22,6,3,0,"default"],[22,13,3,0],[22,16,3,0,"e"],[22,17,3,0],[23,4,3,0],[23,11,3,0,"n"],[23,12,3,0],[24,2,3,0],[25,2,54,0,"Object"],[25,8,54,0],[25,9,54,0,"defineProperty"],[25,23,54,0],[25,24,54,0,"exports"],[25,31,54,0],[26,4,54,0,"enumerable"],[26,14,54,0],[27,4,54,0,"get"],[27,7,54,0],[27,18,54,0,"get"],[27,19,54,0],[28,6,54,0],[28,13,55,2,"HydrationBoundary"],[28,30,55,19],[29,4,55,19],[30,2,55,19],[31,2,4,0],[31,6,4,0,"_react"],[31,12,4,0],[31,15,4,0,"require"],[31,22,4,0],[31,23,4,0,"_dependencyMap"],[31,37,4,0],[32,2,4,0],[32,6,4,0,"React"],[32,11,4,0],[32,14,4,0,"_interopNamespace"],[32,31,4,0],[32,32,4,0,"_react"],[32,38,4,0],[33,2,5,0],[33,6,5,0,"_tanstackQueryCore"],[33,24,5,0],[33,27,5,0,"require"],[33,34,5,0],[33,35,5,0,"_dependencyMap"],[33,49,5,0],[34,2,6,0],[34,6,6,0,"_QueryClientProviderJs"],[34,28,6,0],[34,31,6,0,"require"],[34,38,6,0],[34,39,6,0,"_dependencyMap"],[34,53,6,0],[35,2,7,0],[35,6,7,4,"HydrationBoundary"],[35,23,7,21],[35,26,7,24,"HydrationBoundary"],[35,27,7,25],[36,4,8,2,"children"],[36,12,8,10],[37,4,9,2,"options"],[37,11,9,9],[37,14,9,12],[37,15,9,13],[37,16,9,14],[38,4,10,2,"state"],[38,9,10,7],[39,4,11,2,"queryClient"],[40,2,12,0],[40,3,12,1],[40,8,12,6],[41,4,13,2],[41,10,13,8,"client"],[41,16,13,14],[41,19,13,17],[41,23,13,17,"useQueryClient"],[41,45,13,31],[41,46,13,31,"useQueryClient"],[41,60,13,31],[41,62,13,32,"queryClient"],[41,73,13,43],[41,74,13,44],[42,4,14,2],[42,10,14,8,"optionsRef"],[42,20,14,18],[42,23,14,21,"React"],[42,28,14,26],[42,29,14,27,"useRef"],[42,35,14,33],[42,36,14,34,"options"],[42,43,14,41],[42,44,14,42],[43,4,15,2,"React"],[43,9,15,7],[43,10,15,8,"useEffect"],[43,19,15,17],[43,20,15,18],[43,26,15,24],[44,6,16,4,"optionsRef"],[44,16,16,14],[44,17,16,15,"current"],[44,24,16,22],[44,27,16,25,"options"],[44,34,16,32],[45,4,17,2],[45,5,17,3],[45,6,17,4],[46,4,18,2],[46,10,18,8,"hydrationQueue"],[46,24,18,22],[46,27,18,25,"React"],[46,32,18,30],[46,33,18,31,"useMemo"],[46,40,18,38],[46,41,18,39],[46,47,18,45],[47,6,19,4],[47,10,19,8,"state"],[47,15,19,13],[47,17,19,15],[48,8,20,6],[48,12,20,10],[48,19,20,17,"state"],[48,24,20,22],[48,29,20,27],[48,37,20,35],[48,39,20,37],[49,10,21,8],[50,8,22,6],[51,8,23,6],[51,14,23,12,"queryCache"],[51,24,23,22],[51,27,23,25,"client"],[51,33,23,31],[51,34,23,32,"getQueryCache"],[51,47,23,45],[51,48,23,46],[51,49,23,47],[52,8,24,6],[52,14,24,12,"queries"],[52,21,24,19],[52,24,24,22,"state"],[52,29,24,27],[52,30,24,28,"queries"],[52,37,24,35],[52,41,24,39],[52,43,24,41],[53,8,25,6],[53,14,25,12,"newQueries"],[53,24,25,22],[53,27,25,25],[53,29,25,27],[54,8,26,6],[54,14,26,12,"existingQueries"],[54,29,26,27],[54,32,26,30],[54,34,26,32],[55,8,27,6],[55,13,27,11],[55,19,27,17,"dehydratedQuery"],[55,34,27,32],[55,38,27,36,"queries"],[55,45,27,43],[55,47,27,45],[56,10,28,8],[56,16,28,14,"existingQuery"],[56,29,28,27],[56,32,28,30,"queryCache"],[56,42,28,40],[56,43,28,41,"get"],[56,46,28,44],[56,47,28,45,"dehydratedQuery"],[56,62,28,60],[56,63,28,61,"queryHash"],[56,72,28,70],[56,73,28,71],[57,10,29,8],[57,14,29,12],[57,15,29,13,"existingQuery"],[57,28,29,26],[57,30,29,28],[58,12,30,10,"newQueries"],[58,22,30,20],[58,23,30,21,"push"],[58,27,30,25],[58,28,30,26,"dehydratedQuery"],[58,43,30,41],[58,44,30,42],[59,10,31,8],[59,11,31,9],[59,17,31,15],[60,12,32,10],[60,18,32,16,"hydrationIsNewer"],[60,34,32,32],[60,37,32,35,"dehydratedQuery"],[60,52,32,50],[60,53,32,51,"state"],[60,58,32,56],[60,59,32,57,"dataUpdatedAt"],[60,72,32,70],[60,75,32,73,"existingQuery"],[60,88,32,86],[60,89,32,87,"state"],[60,94,32,92],[60,95,32,93,"dataUpdatedAt"],[60,108,32,106],[60,112,32,110,"dehydratedQuery"],[60,127,32,125],[60,128,32,126,"promise"],[60,135,32,133],[60,139,32,137,"existingQuery"],[60,152,32,150],[60,153,32,151,"state"],[60,158,32,156],[60,159,32,157,"status"],[60,165,32,163],[60,170,32,168],[60,179,32,177],[60,183,32,181,"existingQuery"],[60,196,32,194],[60,197,32,195,"state"],[60,202,32,200],[60,203,32,201,"fetchStatus"],[60,214,32,212],[60,219,32,217],[60,229,32,227],[60,233,32,231,"dehydratedQuery"],[60,248,32,246],[60,249,32,247,"dehydratedAt"],[60,261,32,259],[60,266,32,264],[60,271,32,269],[60,272,32,270],[60,276,32,274,"dehydratedQuery"],[60,291,32,289],[60,292,32,290,"dehydratedAt"],[60,304,32,302],[60,307,32,305,"existingQuery"],[60,320,32,318],[60,321,32,319,"state"],[60,326,32,324],[60,327,32,325,"dataUpdatedAt"],[60,340,32,338],[61,12,33,10],[61,16,33,14,"hydrationIsNewer"],[61,32,33,30],[61,34,33,32],[62,14,34,12,"existingQueries"],[62,29,34,27],[62,30,34,28,"push"],[62,34,34,32],[62,35,34,33,"dehydratedQuery"],[62,50,34,48],[62,51,34,49],[63,12,35,10],[64,10,36,8],[65,8,37,6],[66,8,38,6],[66,12,38,10,"newQueries"],[66,22,38,20],[66,23,38,21,"length"],[66,29,38,27],[66,32,38,30],[66,33,38,31],[66,35,38,33],[67,10,39,8],[67,14,39,8,"hydrate"],[67,32,39,15],[67,33,39,15,"hydrate"],[67,40,39,15],[67,42,39,16,"client"],[67,48,39,22],[67,50,39,24],[68,12,39,26,"queries"],[68,19,39,33],[68,21,39,35,"newQueries"],[69,10,39,46],[69,11,39,47],[69,13,39,49,"optionsRef"],[69,23,39,59],[69,24,39,60,"current"],[69,31,39,67],[69,32,39,68],[70,8,40,6],[71,8,41,6],[71,12,41,10,"existingQueries"],[71,27,41,25],[71,28,41,26,"length"],[71,34,41,32],[71,37,41,35],[71,38,41,36],[71,40,41,38],[72,10,42,8],[72,17,42,15,"existingQueries"],[72,32,42,30],[73,8,43,6],[74,6,44,4],[75,6,45,4],[75,13,45,11],[75,18,45,16],[75,19,45,17],[76,4,46,2],[76,5,46,3],[76,7,46,5],[76,8,46,6,"client"],[76,14,46,12],[76,16,46,14,"state"],[76,21,46,19],[76,22,46,20],[76,23,46,21],[77,4,47,2,"React"],[77,9,47,7],[77,10,47,8,"useEffect"],[77,19,47,17],[77,20,47,18],[77,26,47,24],[78,6,48,4],[78,10,48,8,"hydrationQueue"],[78,24,48,22],[78,26,48,24],[79,8,49,6],[79,12,49,6,"hydrate"],[79,30,49,13],[79,31,49,13,"hydrate"],[79,38,49,13],[79,40,49,14,"client"],[79,46,49,20],[79,48,49,22],[80,10,49,24,"queries"],[80,17,49,31],[80,19,49,33,"hydrationQueue"],[81,8,49,48],[81,9,49,49],[81,11,49,51,"optionsRef"],[81,21,49,61],[81,22,49,62,"current"],[81,29,49,69],[81,30,49,70],[82,6,50,4],[83,4,51,2],[83,5,51,3],[83,7,51,5],[83,8,51,6,"client"],[83,14,51,12],[83,16,51,14,"hydrationQueue"],[83,30,51,28],[83,31,51,29],[83,32,51,30],[84,4,52,2],[84,11,52,9,"children"],[84,19,52,17],[85,2,53,0],[85,3,53,1],[86,0,53,2],[86,3]],"functionMap":{"names":["<global>","HydrationBoundary","React.useEffect$argument_0","React.useMemo$argument_0"],"mappings":"AAA;wBCM;kBCQ;GDE;uCEC;GF4B;kBCC;GDI;CDE"},"hasCjsExports":false},"type":"js/module"}]}