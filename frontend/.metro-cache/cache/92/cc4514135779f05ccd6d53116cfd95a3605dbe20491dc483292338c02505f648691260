{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/storage.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":61,"index":95}}],"key":"ffkdb+LObMYY3jyB8WDLaCykRCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesStorageService = require(_dependencyMap[1], \"../services/storage.service\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    isAuthenticated: false,\n    isLoading: true,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    updateUser: async updates => {\n      const currentUser = useAuthStore.getState().user;\n      console.log('[AuthStore] updateUser called');\n      console.log('[AuthStore] Current user:', currentUser);\n      console.log('[AuthStore] Updates:', updates);\n      if (currentUser) {\n        const updatedUser = Object.assign({}, currentUser, updates);\n        console.log('[AuthStore] Updated user:', updatedUser);\n        await _servicesStorageService.StorageService.storeUser(updatedUser);\n        set({\n          user: updatedUser\n        });\n        console.log('[AuthStore] User updated in store and storage');\n      }\n    },\n    setLoading: loading => set({\n      isLoading: loading\n    }),\n    logout: async () => {\n      await _servicesStorageService.StorageService.clearAll();\n      set({\n        user: null,\n        isAuthenticated: false\n      });\n    },\n    initializeAuth: async () => {\n      set({\n        isLoading: true\n      });\n      try {\n        const user = await _servicesStorageService.StorageService.getUser();\n        const accessToken = await _servicesStorageService.StorageService.getAccessToken();\n        if (user && accessToken) {\n          set({\n            user,\n            isAuthenticated: true\n          });\n        }\n      } catch (error) {\n        console.error('Failed to initialize auth:', error);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":70,"map":[[7,2,28,0,"Object"],[7,8,28,0],[7,9,28,0,"defineProperty"],[7,23,28,0],[7,24,28,0,"exports"],[7,31,28,0],[8,4,28,0,"enumerable"],[8,14,28,0],[9,4,28,0,"get"],[9,7,28,0],[9,18,28,0,"get"],[9,19,28,0],[10,6,28,0],[10,13,28,0,"useAuthStore"],[10,25,28,0],[11,4,28,0],[12,2,28,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,2,0],[14,6,2,0,"_servicesStorageService"],[14,29,2,0],[14,32,2,0,"require"],[14,39,2,0],[14,40,2,0,"_dependencyMap"],[14,54,2,0],[15,2,28,7],[15,8,28,13,"useAuthStore"],[15,20,28,25],[15,23,28,28],[15,27,28,28,"create"],[15,35,28,34],[15,36,28,34,"create"],[15,42,28,34],[15,44,28,47,"set"],[15,47,28,50],[15,52,28,56],[16,4,29,2,"user"],[16,8,29,6],[16,10,29,8],[16,14,29,12],[17,4,30,2,"isAuthenticated"],[17,19,30,17],[17,21,30,19],[17,26,30,24],[18,4,31,2,"isLoading"],[18,13,31,11],[18,15,31,13],[18,19,31,17],[19,4,33,2,"setUser"],[19,11,33,9],[19,13,33,12,"user"],[19,17,33,16],[19,21,33,21,"set"],[19,24,33,24],[19,25,33,25],[20,6,33,27,"user"],[20,10,33,31],[21,6,33,33,"isAuthenticated"],[21,21,33,48],[21,23,33,50],[21,24,33,51],[21,25,33,52,"user"],[22,4,33,57],[22,5,33,58],[22,6,33,59],[23,4,35,2,"updateUser"],[23,14,35,12],[23,16,35,14],[23,22,35,21,"updates"],[23,29,35,28],[23,33,35,33],[24,6,36,4],[24,12,36,10,"currentUser"],[24,23,36,21],[24,26,36,24,"useAuthStore"],[24,38,36,36],[24,39,36,37,"getState"],[24,47,36,45],[24,48,36,46],[24,49,36,47],[24,50,36,48,"user"],[24,54,36,52],[25,6,37,4,"console"],[25,13,37,11],[25,14,37,12,"log"],[25,17,37,15],[25,18,37,16],[25,49,37,47],[25,50,37,48],[26,6,38,4,"console"],[26,13,38,11],[26,14,38,12,"log"],[26,17,38,15],[26,18,38,16],[26,45,38,43],[26,47,38,45,"currentUser"],[26,58,38,56],[26,59,38,57],[27,6,39,4,"console"],[27,13,39,11],[27,14,39,12,"log"],[27,17,39,15],[27,18,39,16],[27,40,39,38],[27,42,39,40,"updates"],[27,49,39,47],[27,50,39,48],[28,6,40,4],[28,10,40,8,"currentUser"],[28,21,40,19],[28,23,40,21],[29,8,41,6],[29,14,41,12,"updatedUser"],[29,25,41,23],[29,28,41,23,"Object"],[29,34,41,23],[29,35,41,23,"assign"],[29,41,41,23],[29,46,41,31,"currentUser"],[29,57,41,42],[29,59,41,47,"updates"],[29,66,41,54],[29,67,41,56],[30,8,42,6,"console"],[30,15,42,13],[30,16,42,14,"log"],[30,19,42,17],[30,20,42,18],[30,47,42,45],[30,49,42,47,"updatedUser"],[30,60,42,58],[30,61,42,59],[31,8,43,6],[31,14,43,12,"StorageService"],[31,37,43,26],[31,38,43,26,"StorageService"],[31,52,43,26],[31,53,43,27,"storeUser"],[31,62,43,36],[31,63,43,37,"updatedUser"],[31,74,43,48],[31,75,43,49],[32,8,44,6,"set"],[32,11,44,9],[32,12,44,10],[33,10,44,12,"user"],[33,14,44,16],[33,16,44,18,"updatedUser"],[34,8,44,30],[34,9,44,31],[34,10,44,32],[35,8,45,6,"console"],[35,15,45,13],[35,16,45,14,"log"],[35,19,45,17],[35,20,45,18],[35,67,45,65],[35,68,45,66],[36,6,46,4],[37,4,47,2],[37,5,47,3],[38,4,49,2,"setLoading"],[38,14,49,12],[38,16,49,15,"loading"],[38,23,49,22],[38,27,49,27,"set"],[38,30,49,30],[38,31,49,31],[39,6,49,33,"isLoading"],[39,15,49,42],[39,17,49,44,"loading"],[40,4,49,52],[40,5,49,53],[40,6,49,54],[41,4,51,2,"logout"],[41,10,51,8],[41,12,51,10],[41,18,51,10,"logout"],[41,19,51,10],[41,24,51,22],[42,6,52,4],[42,12,52,10,"StorageService"],[42,35,52,24],[42,36,52,24,"StorageService"],[42,50,52,24],[42,51,52,25,"clearAll"],[42,59,52,33],[42,60,52,34],[42,61,52,35],[43,6,53,4,"set"],[43,9,53,7],[43,10,53,8],[44,8,53,10,"user"],[44,12,53,14],[44,14,53,16],[44,18,53,20],[45,8,53,22,"isAuthenticated"],[45,23,53,37],[45,25,53,39],[46,6,53,45],[46,7,53,46],[46,8,53,47],[47,4,54,2],[47,5,54,3],[48,4,56,2,"initializeAuth"],[48,18,56,16],[48,20,56,18],[48,26,56,18,"initializeAuth"],[48,27,56,18],[48,32,56,30],[49,6,57,4,"set"],[49,9,57,7],[49,10,57,8],[50,8,57,10,"isLoading"],[50,17,57,19],[50,19,57,21],[51,6,57,26],[51,7,57,27],[51,8,57,28],[52,6,58,4],[52,10,58,8],[53,8,59,6],[53,14,59,12,"user"],[53,18,59,16],[53,21,59,19],[53,27,59,25,"StorageService"],[53,50,59,39],[53,51,59,39,"StorageService"],[53,65,59,39],[53,66,59,40,"getUser"],[53,73,59,47],[53,74,59,48],[53,75,59,49],[54,8,60,6],[54,14,60,12,"accessToken"],[54,25,60,23],[54,28,60,26],[54,34,60,32,"StorageService"],[54,57,60,46],[54,58,60,46,"StorageService"],[54,72,60,46],[54,73,60,47,"getAccessToken"],[54,87,60,61],[54,88,60,62],[54,89,60,63],[55,8,62,6],[55,12,62,10,"user"],[55,16,62,14],[55,20,62,18,"accessToken"],[55,31,62,29],[55,33,62,31],[56,10,63,8,"set"],[56,13,63,11],[56,14,63,12],[57,12,63,14,"user"],[57,16,63,18],[58,12,63,20,"isAuthenticated"],[58,27,63,35],[58,29,63,37],[59,10,63,42],[59,11,63,43],[59,12,63,44],[60,8,64,6],[61,6,65,4],[61,7,65,5],[61,8,65,6],[61,15,65,13,"error"],[61,20,65,18],[61,22,65,20],[62,8,66,6,"console"],[62,15,66,13],[62,16,66,14,"error"],[62,21,66,19],[62,22,66,20],[62,50,66,48],[62,52,66,50,"error"],[62,57,66,55],[62,58,66,56],[63,6,67,4],[63,7,67,5],[63,16,67,14],[64,8,68,6,"set"],[64,11,68,9],[64,12,68,10],[65,10,68,12,"isLoading"],[65,19,68,21],[65,21,68,23],[66,8,68,29],[66,9,68,30],[66,10,68,31],[67,6,69,4],[68,4,70,2],[69,2,71,0],[69,3,71,1],[69,4,71,2],[69,5,71,3],[70,0,71,4],[70,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","updateUser","setLoading","logout","initializeAuth"],"mappings":"AAA;8CC2B;WCK,gDD;cEE;GFY;cGE,wCH;UIE;GJG;kBKE;GLc;EDC"},"hasCjsExports":false},"type":"js/module"}]}