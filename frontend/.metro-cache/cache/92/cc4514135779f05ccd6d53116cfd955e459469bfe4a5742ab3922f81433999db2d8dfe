{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/storage.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":61,"index":95}}],"key":"ffkdb+LObMYY3jyB8WDLaCykRCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesStorageService = require(_dependencyMap[1], \"../services/storage.service\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    isAuthenticated: false,\n    isLoading: true,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    updateUser: async updates => {\n      const currentUser = useAuthStore.getState().user;\n      if (currentUser) {\n        const updatedUser = Object.assign({}, currentUser, updates);\n        await _servicesStorageService.StorageService.storeUser(updatedUser);\n        set({\n          user: updatedUser\n        });\n      }\n    },\n    setLoading: loading => set({\n      isLoading: loading\n    }),\n    logout: async () => {\n      await _servicesStorageService.StorageService.clearAll();\n      set({\n        user: null,\n        isAuthenticated: false\n      });\n    },\n    initializeAuth: async () => {\n      set({\n        isLoading: true\n      });\n      try {\n        const user = await _servicesStorageService.StorageService.getUser();\n        const accessToken = await _servicesStorageService.StorageService.getAccessToken();\n        if (user && accessToken) {\n          set({\n            user,\n            isAuthenticated: true\n          });\n        }\n      } catch (error) {\n        console.error('Failed to initialize auth:', error);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":65,"map":[[7,2,28,0,"Object"],[7,8,28,0],[7,9,28,0,"defineProperty"],[7,23,28,0],[7,24,28,0,"exports"],[7,31,28,0],[8,4,28,0,"enumerable"],[8,14,28,0],[9,4,28,0,"get"],[9,7,28,0],[9,18,28,0,"get"],[9,19,28,0],[10,6,28,0],[10,13,28,0,"useAuthStore"],[10,25,28,0],[11,4,28,0],[12,2,28,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,2,0],[14,6,2,0,"_servicesStorageService"],[14,29,2,0],[14,32,2,0,"require"],[14,39,2,0],[14,40,2,0,"_dependencyMap"],[14,54,2,0],[15,2,28,7],[15,8,28,13,"useAuthStore"],[15,20,28,25],[15,23,28,28],[15,27,28,28,"create"],[15,35,28,34],[15,36,28,34,"create"],[15,42,28,34],[15,44,28,47,"set"],[15,47,28,50],[15,52,28,56],[16,4,29,2,"user"],[16,8,29,6],[16,10,29,8],[16,14,29,12],[17,4,30,2,"isAuthenticated"],[17,19,30,17],[17,21,30,19],[17,26,30,24],[18,4,31,2,"isLoading"],[18,13,31,11],[18,15,31,13],[18,19,31,17],[19,4,33,2,"setUser"],[19,11,33,9],[19,13,33,12,"user"],[19,17,33,16],[19,21,33,21,"set"],[19,24,33,24],[19,25,33,25],[20,6,33,27,"user"],[20,10,33,31],[21,6,33,33,"isAuthenticated"],[21,21,33,48],[21,23,33,50],[21,24,33,51],[21,25,33,52,"user"],[22,4,33,57],[22,5,33,58],[22,6,33,59],[23,4,35,2,"updateUser"],[23,14,35,12],[23,16,35,14],[23,22,35,21,"updates"],[23,29,35,28],[23,33,35,33],[24,6,36,4],[24,12,36,10,"currentUser"],[24,23,36,21],[24,26,36,24,"useAuthStore"],[24,38,36,36],[24,39,36,37,"getState"],[24,47,36,45],[24,48,36,46],[24,49,36,47],[24,50,36,48,"user"],[24,54,36,52],[25,6,37,4],[25,10,37,8,"currentUser"],[25,21,37,19],[25,23,37,21],[26,8,38,6],[26,14,38,12,"updatedUser"],[26,25,38,23],[26,28,38,23,"Object"],[26,34,38,23],[26,35,38,23,"assign"],[26,41,38,23],[26,46,38,31,"currentUser"],[26,57,38,42],[26,59,38,47,"updates"],[26,66,38,54],[26,67,38,56],[27,8,39,6],[27,14,39,12,"StorageService"],[27,37,39,26],[27,38,39,26,"StorageService"],[27,52,39,26],[27,53,39,27,"storeUser"],[27,62,39,36],[27,63,39,37,"updatedUser"],[27,74,39,48],[27,75,39,49],[28,8,40,6,"set"],[28,11,40,9],[28,12,40,10],[29,10,40,12,"user"],[29,14,40,16],[29,16,40,18,"updatedUser"],[30,8,40,30],[30,9,40,31],[30,10,40,32],[31,6,41,4],[32,4,42,2],[32,5,42,3],[33,4,44,2,"setLoading"],[33,14,44,12],[33,16,44,15,"loading"],[33,23,44,22],[33,27,44,27,"set"],[33,30,44,30],[33,31,44,31],[34,6,44,33,"isLoading"],[34,15,44,42],[34,17,44,44,"loading"],[35,4,44,52],[35,5,44,53],[35,6,44,54],[36,4,46,2,"logout"],[36,10,46,8],[36,12,46,10],[36,18,46,10,"logout"],[36,19,46,10],[36,24,46,22],[37,6,47,4],[37,12,47,10,"StorageService"],[37,35,47,24],[37,36,47,24,"StorageService"],[37,50,47,24],[37,51,47,25,"clearAll"],[37,59,47,33],[37,60,47,34],[37,61,47,35],[38,6,48,4,"set"],[38,9,48,7],[38,10,48,8],[39,8,48,10,"user"],[39,12,48,14],[39,14,48,16],[39,18,48,20],[40,8,48,22,"isAuthenticated"],[40,23,48,37],[40,25,48,39],[41,6,48,45],[41,7,48,46],[41,8,48,47],[42,4,49,2],[42,5,49,3],[43,4,51,2,"initializeAuth"],[43,18,51,16],[43,20,51,18],[43,26,51,18,"initializeAuth"],[43,27,51,18],[43,32,51,30],[44,6,52,4,"set"],[44,9,52,7],[44,10,52,8],[45,8,52,10,"isLoading"],[45,17,52,19],[45,19,52,21],[46,6,52,26],[46,7,52,27],[46,8,52,28],[47,6,53,4],[47,10,53,8],[48,8,54,6],[48,14,54,12,"user"],[48,18,54,16],[48,21,54,19],[48,27,54,25,"StorageService"],[48,50,54,39],[48,51,54,39,"StorageService"],[48,65,54,39],[48,66,54,40,"getUser"],[48,73,54,47],[48,74,54,48],[48,75,54,49],[49,8,55,6],[49,14,55,12,"accessToken"],[49,25,55,23],[49,28,55,26],[49,34,55,32,"StorageService"],[49,57,55,46],[49,58,55,46,"StorageService"],[49,72,55,46],[49,73,55,47,"getAccessToken"],[49,87,55,61],[49,88,55,62],[49,89,55,63],[50,8,57,6],[50,12,57,10,"user"],[50,16,57,14],[50,20,57,18,"accessToken"],[50,31,57,29],[50,33,57,31],[51,10,58,8,"set"],[51,13,58,11],[51,14,58,12],[52,12,58,14,"user"],[52,16,58,18],[53,12,58,20,"isAuthenticated"],[53,27,58,35],[53,29,58,37],[54,10,58,42],[54,11,58,43],[54,12,58,44],[55,8,59,6],[56,6,60,4],[56,7,60,5],[56,8,60,6],[56,15,60,13,"error"],[56,20,60,18],[56,22,60,20],[57,8,61,6,"console"],[57,15,61,13],[57,16,61,14,"error"],[57,21,61,19],[57,22,61,20],[57,50,61,48],[57,52,61,50,"error"],[57,57,61,55],[57,58,61,56],[58,6,62,4],[58,7,62,5],[58,16,62,14],[59,8,63,6,"set"],[59,11,63,9],[59,12,63,10],[60,10,63,12,"isLoading"],[60,19,63,21],[60,21,63,23],[61,8,63,29],[61,9,63,30],[61,10,63,31],[62,6,64,4],[63,4,65,2],[64,2,66,0],[64,3,66,1],[64,4,66,2],[64,5,66,3],[65,0,66,4],[65,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","updateUser","setLoading","logout","initializeAuth"],"mappings":"AAA;8CC2B;WCK,gDD;cEE;GFO;cGE,wCH;UIE;GJG;kBKE;GLc;EDC"},"hasCjsExports":false},"type":"js/module"}]}