{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/storage.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":61,"index":95}}],"key":"ffkdb+LObMYY3jyB8WDLaCykRCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesStorageService = require(_dependencyMap[1], \"../services/storage.service\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    isAuthenticated: false,\n    isLoading: true,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    updateUser: async updates => {\n      const currentUser = useAuthStore.getState().user;\n      console.log('[AuthStore] updateUser called');\n      console.log('[AuthStore] Current user:', currentUser);\n      console.log('[AuthStore] Updates:', updates);\n      if (currentUser) {\n        const updatedUser = {\n          ...currentUser,\n          ...updates\n        };\n        console.log('[AuthStore] Updated user:', updatedUser);\n        await _servicesStorageService.StorageService.saveUser(updatedUser);\n        set({\n          user: updatedUser\n        });\n        console.log('[AuthStore] User updated in store and storage');\n      }\n    },\n    setLoading: loading => set({\n      isLoading: loading\n    }),\n    logout: async () => {\n      await _servicesStorageService.StorageService.clearAll();\n      set({\n        user: null,\n        isAuthenticated: false\n      });\n    },\n    initializeAuth: async () => {\n      set({\n        isLoading: true\n      });\n      try {\n        const user = await _servicesStorageService.StorageService.getUser();\n        const accessToken = await _servicesStorageService.StorageService.getAccessToken();\n        if (user && accessToken) {\n          set({\n            user,\n            isAuthenticated: true\n          });\n        }\n      } catch (error) {\n        console.error('Failed to initialize auth:', error);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":73,"map":[[7,2,30,0,"Object"],[7,8,30,0],[7,9,30,0,"defineProperty"],[7,23,30,0],[7,24,30,0,"exports"],[7,31,30,0],[8,4,30,0,"enumerable"],[8,14,30,0],[9,4,30,0,"get"],[9,7,30,0],[9,18,30,0,"get"],[9,19,30,0],[10,6,30,0],[10,13,30,0,"useAuthStore"],[10,25,30,0],[11,4,30,0],[12,2,30,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,2,0],[14,6,2,0,"_servicesStorageService"],[14,29,2,0],[14,32,2,0,"require"],[14,39,2,0],[14,40,2,0,"_dependencyMap"],[14,54,2,0],[15,2,30,7],[15,8,30,13,"useAuthStore"],[15,20,30,25],[15,23,30,28],[15,27,30,28,"create"],[15,35,30,34],[15,36,30,34,"create"],[15,42,30,34],[15,44,30,47,"set"],[15,47,30,50],[15,52,30,56],[16,4,31,2,"user"],[16,8,31,6],[16,10,31,8],[16,14,31,12],[17,4,32,2,"isAuthenticated"],[17,19,32,17],[17,21,32,19],[17,26,32,24],[18,4,33,2,"isLoading"],[18,13,33,11],[18,15,33,13],[18,19,33,17],[19,4,35,2,"setUser"],[19,11,35,9],[19,13,35,12,"user"],[19,17,35,16],[19,21,35,21,"set"],[19,24,35,24],[19,25,35,25],[20,6,35,27,"user"],[20,10,35,31],[21,6,35,33,"isAuthenticated"],[21,21,35,48],[21,23,35,50],[21,24,35,51],[21,25,35,52,"user"],[22,4,35,57],[22,5,35,58],[22,6,35,59],[23,4,37,2,"updateUser"],[23,14,37,12],[23,16,37,14],[23,22,37,21,"updates"],[23,29,37,28],[23,33,37,33],[24,6,38,4],[24,12,38,10,"currentUser"],[24,23,38,21],[24,26,38,24,"useAuthStore"],[24,38,38,36],[24,39,38,37,"getState"],[24,47,38,45],[24,48,38,46],[24,49,38,47],[24,50,38,48,"user"],[24,54,38,52],[25,6,39,4,"console"],[25,13,39,11],[25,14,39,12,"log"],[25,17,39,15],[25,18,39,16],[25,49,39,47],[25,50,39,48],[26,6,40,4,"console"],[26,13,40,11],[26,14,40,12,"log"],[26,17,40,15],[26,18,40,16],[26,45,40,43],[26,47,40,45,"currentUser"],[26,58,40,56],[26,59,40,57],[27,6,41,4,"console"],[27,13,41,11],[27,14,41,12,"log"],[27,17,41,15],[27,18,41,16],[27,40,41,38],[27,42,41,40,"updates"],[27,49,41,47],[27,50,41,48],[28,6,42,4],[28,10,42,8,"currentUser"],[28,21,42,19],[28,23,42,21],[29,8,43,6],[29,14,43,12,"updatedUser"],[29,25,43,23],[29,28,43,26],[30,10,43,28],[30,13,43,31,"currentUser"],[30,24,43,42],[31,10,43,44],[31,13,43,47,"updates"],[32,8,43,55],[32,9,43,56],[33,8,44,6,"console"],[33,15,44,13],[33,16,44,14,"log"],[33,19,44,17],[33,20,44,18],[33,47,44,45],[33,49,44,47,"updatedUser"],[33,60,44,58],[33,61,44,59],[34,8,45,6],[34,14,45,12,"StorageService"],[34,37,45,26],[34,38,45,26,"StorageService"],[34,52,45,26],[34,53,45,27,"saveUser"],[34,61,45,35],[34,62,45,36,"updatedUser"],[34,73,45,47],[34,74,45,48],[35,8,46,6,"set"],[35,11,46,9],[35,12,46,10],[36,10,46,12,"user"],[36,14,46,16],[36,16,46,18,"updatedUser"],[37,8,46,30],[37,9,46,31],[37,10,46,32],[38,8,47,6,"console"],[38,15,47,13],[38,16,47,14,"log"],[38,19,47,17],[38,20,47,18],[38,67,47,65],[38,68,47,66],[39,6,48,4],[40,4,49,2],[40,5,49,3],[41,4,51,2,"setLoading"],[41,14,51,12],[41,16,51,15,"loading"],[41,23,51,22],[41,27,51,27,"set"],[41,30,51,30],[41,31,51,31],[42,6,51,33,"isLoading"],[42,15,51,42],[42,17,51,44,"loading"],[43,4,51,52],[43,5,51,53],[43,6,51,54],[44,4,53,2,"logout"],[44,10,53,8],[44,12,53,10],[44,18,53,10,"logout"],[44,19,53,10],[44,24,53,22],[45,6,54,4],[45,12,54,10,"StorageService"],[45,35,54,24],[45,36,54,24,"StorageService"],[45,50,54,24],[45,51,54,25,"clearAll"],[45,59,54,33],[45,60,54,34],[45,61,54,35],[46,6,55,4,"set"],[46,9,55,7],[46,10,55,8],[47,8,55,10,"user"],[47,12,55,14],[47,14,55,16],[47,18,55,20],[48,8,55,22,"isAuthenticated"],[48,23,55,37],[48,25,55,39],[49,6,55,45],[49,7,55,46],[49,8,55,47],[50,4,56,2],[50,5,56,3],[51,4,58,2,"initializeAuth"],[51,18,58,16],[51,20,58,18],[51,26,58,18,"initializeAuth"],[51,27,58,18],[51,32,58,30],[52,6,59,4,"set"],[52,9,59,7],[52,10,59,8],[53,8,59,10,"isLoading"],[53,17,59,19],[53,19,59,21],[54,6,59,26],[54,7,59,27],[54,8,59,28],[55,6,60,4],[55,10,60,8],[56,8,61,6],[56,14,61,12,"user"],[56,18,61,16],[56,21,61,19],[56,27,61,25,"StorageService"],[56,50,61,39],[56,51,61,39,"StorageService"],[56,65,61,39],[56,66,61,40,"getUser"],[56,73,61,47],[56,74,61,48],[56,75,61,49],[57,8,62,6],[57,14,62,12,"accessToken"],[57,25,62,23],[57,28,62,26],[57,34,62,32,"StorageService"],[57,57,62,46],[57,58,62,46,"StorageService"],[57,72,62,46],[57,73,62,47,"getAccessToken"],[57,87,62,61],[57,88,62,62],[57,89,62,63],[58,8,64,6],[58,12,64,10,"user"],[58,16,64,14],[58,20,64,18,"accessToken"],[58,31,64,29],[58,33,64,31],[59,10,65,8,"set"],[59,13,65,11],[59,14,65,12],[60,12,65,14,"user"],[60,16,65,18],[61,12,65,20,"isAuthenticated"],[61,27,65,35],[61,29,65,37],[62,10,65,42],[62,11,65,43],[62,12,65,44],[63,8,66,6],[64,6,67,4],[64,7,67,5],[64,8,67,6],[64,15,67,13,"error"],[64,20,67,18],[64,22,67,20],[65,8,68,6,"console"],[65,15,68,13],[65,16,68,14,"error"],[65,21,68,19],[65,22,68,20],[65,50,68,48],[65,52,68,50,"error"],[65,57,68,55],[65,58,68,56],[66,6,69,4],[66,7,69,5],[66,16,69,14],[67,8,70,6,"set"],[67,11,70,9],[67,12,70,10],[68,10,70,12,"isLoading"],[68,19,70,21],[68,21,70,23],[69,8,70,29],[69,9,70,30],[69,10,70,31],[70,6,71,4],[71,4,72,2],[72,2,73,0],[72,3,73,1],[72,4,73,2],[72,5,73,3],[73,0,73,4],[73,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","updateUser","setLoading","logout","initializeAuth"],"mappings":"AAA;8CC6B;WCK,gDD;cEE;GFY;cGE,wCH;UIE;GJG;kBKE;GLc;EDC"},"hasCjsExports":false},"type":"js/module"}]}