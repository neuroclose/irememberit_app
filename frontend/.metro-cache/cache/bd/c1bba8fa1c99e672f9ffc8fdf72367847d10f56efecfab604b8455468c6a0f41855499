{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/storage.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":61,"index":95}}],"key":"ffkdb+LObMYY3jyB8WDLaCykRCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesStorageService = require(_dependencyMap[1], \"../services/storage.service\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    isAuthenticated: false,\n    isLoading: true,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    updateUser: async updates => {\n      const currentUser = useAuthStore.getState().user;\n      console.log('[AuthStore] updateUser called');\n      console.log('[AuthStore] Current user:', currentUser);\n      console.log('[AuthStore] Updates:', updates);\n      if (currentUser) {\n        const updatedUser = {\n          ...currentUser,\n          ...updates\n        };\n        console.log('[AuthStore] Updated user:', updatedUser);\n        await _servicesStorageService.StorageService.saveUser(updatedUser);\n        set({\n          user: updatedUser\n        });\n        console.log('[AuthStore] User updated in store and storage');\n      }\n    },\n    setLoading: loading => set({\n      isLoading: loading\n    }),\n    logout: async () => {\n      await _servicesStorageService.StorageService.clearAll();\n      set({\n        user: null,\n        isAuthenticated: false\n      });\n    },\n    initializeAuth: async () => {\n      set({\n        isLoading: true\n      });\n      try {\n        const user = await _servicesStorageService.StorageService.getUser();\n        const accessToken = await _servicesStorageService.StorageService.getAccessToken();\n        if (user && accessToken) {\n          set({\n            user,\n            isAuthenticated: true\n          });\n        }\n      } catch (error) {\n        console.error('Failed to initialize auth:', error);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":73,"map":[[7,2,28,0,"Object"],[7,8,28,0],[7,9,28,0,"defineProperty"],[7,23,28,0],[7,24,28,0,"exports"],[7,31,28,0],[8,4,28,0,"enumerable"],[8,14,28,0],[9,4,28,0,"get"],[9,7,28,0],[9,18,28,0,"get"],[9,19,28,0],[10,6,28,0],[10,13,28,0,"useAuthStore"],[10,25,28,0],[11,4,28,0],[12,2,28,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,2,0],[14,6,2,0,"_servicesStorageService"],[14,29,2,0],[14,32,2,0,"require"],[14,39,2,0],[14,40,2,0,"_dependencyMap"],[14,54,2,0],[15,2,28,7],[15,8,28,13,"useAuthStore"],[15,20,28,25],[15,23,28,28],[15,27,28,28,"create"],[15,35,28,34],[15,36,28,34,"create"],[15,42,28,34],[15,44,28,47,"set"],[15,47,28,50],[15,52,28,56],[16,4,29,2,"user"],[16,8,29,6],[16,10,29,8],[16,14,29,12],[17,4,30,2,"isAuthenticated"],[17,19,30,17],[17,21,30,19],[17,26,30,24],[18,4,31,2,"isLoading"],[18,13,31,11],[18,15,31,13],[18,19,31,17],[19,4,33,2,"setUser"],[19,11,33,9],[19,13,33,12,"user"],[19,17,33,16],[19,21,33,21,"set"],[19,24,33,24],[19,25,33,25],[20,6,33,27,"user"],[20,10,33,31],[21,6,33,33,"isAuthenticated"],[21,21,33,48],[21,23,33,50],[21,24,33,51],[21,25,33,52,"user"],[22,4,33,57],[22,5,33,58],[22,6,33,59],[23,4,35,2,"updateUser"],[23,14,35,12],[23,16,35,14],[23,22,35,21,"updates"],[23,29,35,28],[23,33,35,33],[24,6,36,4],[24,12,36,10,"currentUser"],[24,23,36,21],[24,26,36,24,"useAuthStore"],[24,38,36,36],[24,39,36,37,"getState"],[24,47,36,45],[24,48,36,46],[24,49,36,47],[24,50,36,48,"user"],[24,54,36,52],[25,6,37,4,"console"],[25,13,37,11],[25,14,37,12,"log"],[25,17,37,15],[25,18,37,16],[25,49,37,47],[25,50,37,48],[26,6,38,4,"console"],[26,13,38,11],[26,14,38,12,"log"],[26,17,38,15],[26,18,38,16],[26,45,38,43],[26,47,38,45,"currentUser"],[26,58,38,56],[26,59,38,57],[27,6,39,4,"console"],[27,13,39,11],[27,14,39,12,"log"],[27,17,39,15],[27,18,39,16],[27,40,39,38],[27,42,39,40,"updates"],[27,49,39,47],[27,50,39,48],[28,6,40,4],[28,10,40,8,"currentUser"],[28,21,40,19],[28,23,40,21],[29,8,41,6],[29,14,41,12,"updatedUser"],[29,25,41,23],[29,28,41,26],[30,10,41,28],[30,13,41,31,"currentUser"],[30,24,41,42],[31,10,41,44],[31,13,41,47,"updates"],[32,8,41,55],[32,9,41,56],[33,8,42,6,"console"],[33,15,42,13],[33,16,42,14,"log"],[33,19,42,17],[33,20,42,18],[33,47,42,45],[33,49,42,47,"updatedUser"],[33,60,42,58],[33,61,42,59],[34,8,43,6],[34,14,43,12,"StorageService"],[34,37,43,26],[34,38,43,26,"StorageService"],[34,52,43,26],[34,53,43,27,"saveUser"],[34,61,43,35],[34,62,43,36,"updatedUser"],[34,73,43,47],[34,74,43,48],[35,8,44,6,"set"],[35,11,44,9],[35,12,44,10],[36,10,44,12,"user"],[36,14,44,16],[36,16,44,18,"updatedUser"],[37,8,44,30],[37,9,44,31],[37,10,44,32],[38,8,45,6,"console"],[38,15,45,13],[38,16,45,14,"log"],[38,19,45,17],[38,20,45,18],[38,67,45,65],[38,68,45,66],[39,6,46,4],[40,4,47,2],[40,5,47,3],[41,4,49,2,"setLoading"],[41,14,49,12],[41,16,49,15,"loading"],[41,23,49,22],[41,27,49,27,"set"],[41,30,49,30],[41,31,49,31],[42,6,49,33,"isLoading"],[42,15,49,42],[42,17,49,44,"loading"],[43,4,49,52],[43,5,49,53],[43,6,49,54],[44,4,51,2,"logout"],[44,10,51,8],[44,12,51,10],[44,18,51,10,"logout"],[44,19,51,10],[44,24,51,22],[45,6,52,4],[45,12,52,10,"StorageService"],[45,35,52,24],[45,36,52,24,"StorageService"],[45,50,52,24],[45,51,52,25,"clearAll"],[45,59,52,33],[45,60,52,34],[45,61,52,35],[46,6,53,4,"set"],[46,9,53,7],[46,10,53,8],[47,8,53,10,"user"],[47,12,53,14],[47,14,53,16],[47,18,53,20],[48,8,53,22,"isAuthenticated"],[48,23,53,37],[48,25,53,39],[49,6,53,45],[49,7,53,46],[49,8,53,47],[50,4,54,2],[50,5,54,3],[51,4,56,2,"initializeAuth"],[51,18,56,16],[51,20,56,18],[51,26,56,18,"initializeAuth"],[51,27,56,18],[51,32,56,30],[52,6,57,4,"set"],[52,9,57,7],[52,10,57,8],[53,8,57,10,"isLoading"],[53,17,57,19],[53,19,57,21],[54,6,57,26],[54,7,57,27],[54,8,57,28],[55,6,58,4],[55,10,58,8],[56,8,59,6],[56,14,59,12,"user"],[56,18,59,16],[56,21,59,19],[56,27,59,25,"StorageService"],[56,50,59,39],[56,51,59,39,"StorageService"],[56,65,59,39],[56,66,59,40,"getUser"],[56,73,59,47],[56,74,59,48],[56,75,59,49],[57,8,60,6],[57,14,60,12,"accessToken"],[57,25,60,23],[57,28,60,26],[57,34,60,32,"StorageService"],[57,57,60,46],[57,58,60,46,"StorageService"],[57,72,60,46],[57,73,60,47,"getAccessToken"],[57,87,60,61],[57,88,60,62],[57,89,60,63],[58,8,62,6],[58,12,62,10,"user"],[58,16,62,14],[58,20,62,18,"accessToken"],[58,31,62,29],[58,33,62,31],[59,10,63,8,"set"],[59,13,63,11],[59,14,63,12],[60,12,63,14,"user"],[60,16,63,18],[61,12,63,20,"isAuthenticated"],[61,27,63,35],[61,29,63,37],[62,10,63,42],[62,11,63,43],[62,12,63,44],[63,8,64,6],[64,6,65,4],[64,7,65,5],[64,8,65,6],[64,15,65,13,"error"],[64,20,65,18],[64,22,65,20],[65,8,66,6,"console"],[65,15,66,13],[65,16,66,14,"error"],[65,21,66,19],[65,22,66,20],[65,50,66,48],[65,52,66,50,"error"],[65,57,66,55],[65,58,66,56],[66,6,67,4],[66,7,67,5],[66,16,67,14],[67,8,68,6,"set"],[67,11,68,9],[67,12,68,10],[68,10,68,12,"isLoading"],[68,19,68,21],[68,21,68,23],[69,8,68,29],[69,9,68,30],[69,10,68,31],[70,6,69,4],[71,4,70,2],[72,2,71,0],[72,3,71,1],[72,4,71,2],[72,5,71,3],[73,0,71,4],[73,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","updateUser","setLoading","logout","initializeAuth"],"mappings":"AAA;8CC2B;WCK,gDD;cEE;GFY;cGE,wCH;UIE;GJG;kBKE;GLc;EDC"},"hasCjsExports":false},"type":"js/module"}]}